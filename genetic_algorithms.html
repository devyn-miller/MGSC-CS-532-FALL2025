<!DOCTYPE html>
<html lang="en"><head>
<script src="genetic_algorithms_files/libs/clipboard/clipboard.min.js"></script>
<script src="genetic_algorithms_files/libs/quarto-html/tabby.min.js"></script>
<script src="genetic_algorithms_files/libs/quarto-html/popper.min.js"></script>
<script src="genetic_algorithms_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="genetic_algorithms_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="genetic_algorithms_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="genetic_algorithms_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <meta name="author" content="Devyn Miller">
  <title>Genetic Algorithms</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="genetic_algorithms_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="genetic_algorithms_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="genetic_algorithms_files/libs/revealjs/dist/theme/quarto-c34d01e8cc48032a8640346eb6e5ebe0.css">
  <link href="genetic_algorithms_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="genetic_algorithms_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="genetic_algorithms_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="genetic_algorithms_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Genetic Algorithms</h1>
  <p class="subtitle">Natural Selection as a Computational Tool</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Devyn Miller 
</div>
</div>
</div>

</section>
<section id="what-well-cover-in-this-module" class="slide level2">
<h2>What We’ll Cover in This Module</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Genetic algorithms fundamentals
<ul>
<li>Inspired by natural selection</li>
<li>Population-based optimization</li>
<li>Encoding economic problems</li>
</ul></li>
<li>Core GA operators
<ul>
<li>Selection</li>
<li>Crossover</li>
<li>Mutation</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Applications in economics
<ul>
<li>The knapsack problem</li>
<li>Portfolio optimization</li>
<li>Resource allocation</li>
</ul></li>
<li>Advanced concepts
<ul>
<li>Multi-population models</li>
<li>Parameter tuning</li>
<li>Best practices</li>
</ul></li>
</ul>
</div></div>
<aside class="notes">
<p>Welcome to our module on Genetic Algorithms in Computational Economics!</p>
<p>Over several sessions, we’ll explore how these nature-inspired algorithms can solve complex optimization problems that traditional methods struggle with.</p>
<p>GAs are particularly valuable when we face: 1. Multiple local optima 2. Non-linear relationships 3. Combinatorial problems with vast solution spaces 4. Problems without analytical solutions</p>
<p>Point out that students will not just learn theory but implement working GA models for economic applications.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section>
<section id="genetic-algorithms-the-big-picture" class="title-slide slide level1 center">
<h1>Genetic Algorithms: The Big Picture</h1>

</section>
<section id="what-are-genetic-algorithms" class="slide level2">
<h2>What Are Genetic Algorithms?</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><p><strong>Optimization technique</strong> inspired by natural selection</p></li>
<li><p><strong>Core idea</strong>: Evolution of solutions over time</p></li>
<li><p><strong>Key elements</strong>:</p></li>
<li><ul>
<li>Population of candidate solutions</li>
<li>Fitness-based selection</li>
<li>Recombination of successful solutions</li>
<li>Random mutation</li>
</ul></li>
</ul>
</div><div class="column" style="width:40%;">
<div style="text-align:center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="genetic_algorithms_files/ga.png" style="width:55.0%"></p>
<figcaption>Genetic Algorithm Diagram</figcaption>
</figure>
</div>
</div>
</div></div>
</section>
<section id="throwback-high-school-biology" class="slide level2">
<h2>🧬 Throwback: High School Biology</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><strong>Remember these concepts?</strong>
<ul>
<li>Population of organisms</li>
<li>DNA &amp; chromosomes</li>
<li>Genes and alleles</li>
<li>Fitness: “Survival of the fittest”</li>
<li>Natural selection</li>
<li>Crossover and mutation</li>
</ul></li>
<li>Evolution = Change in genetic makeup over generations</li>
</ul>
</div><div class="column" style="width:40%;">
<div style="text-align:center;">
<p><img data-src="genetic_algorithms_files/natural-selection.png" style="width:150.0%"></p>
</div>
</div></div>
</section>
<section id="evolution-in-nature-vs.-genetic-algorithms" class="slide level2">
<h2>Evolution in Nature vs.&nbsp;Genetic Algorithms</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Biological Evolution</strong></p>
<ul>
<li>Population of organisms</li>
<li>DNA/chromosomes = traits</li>
<li>Fitness = reproductive success</li>
<li>Natural selection (survival of fittest)</li>
<li>Crossover &amp; mutation</li>
<li>Next generation: most fit survive</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Genetic Algorithms</strong></p>
<ul>
<li>Population of solutions</li>
<li>Encoded “chromosomes” (e.g., bitstrings)</li>
<li>Fitness function (objective value)</li>
<li>Selection of best solutions</li>
<li>Crossover &amp; mutation operators</li>
<li>Next generation: better solutions</li>
</ul>
</div></div>
</section>
<section id="genetic-algorithm-diagram" class="slide level2">
<h2>Genetic Algorithm Diagram</h2>
<div style="text-align:center;">
<p><img data-src="genetic_algorithms_files/ga-diagram.png" style="width:85.0%"></p>
</div>
<aside class="notes">
<p>Genetic Algorithms were developed by John Holland in the 1960s and popularized by his student David Goldberg.</p>
<p>The power of GAs lies in their ability to:</p>
<ol type="1">
<li>Explore vast solution spaces efficiently</li>
<li>Work with minimal problem information</li>
<li>Find “good enough” solutions to intractable problems</li>
</ol>
<p>Analogies to help students understand: - Like evolution, GAs don’t guarantee finding the perfect solution, but they’re excellent at finding very good ones - Think of it as “survival of the fittest” for potential solutions to our problem</p>
<p>Ask students: “What other natural processes might inspire computational methods?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="why-use-genetic-algorithms-in-economics" class="slide level2">
<h2>Why Use Genetic Algorithms in Economics?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Strengths</strong>:</p>
<ul>
<li>Handle complex, nonlinear problems</li>
<li>No need for derivatives or gradients</li>
<li>Work with discrete or continuous variables</li>
<li>Parallelize naturally</li>
<li>Find multiple solutions</li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Economic Applications</strong>:</p>
<ul>
<li>Portfolio optimization</li>
<li>Resource allocation</li>
<li>Game theory strategies</li>
<li>Agent-based modeling</li>
<li>Market structure evolution</li>
<li>Policy optimization</li>
</ul>
</div></div>
<aside class="notes">
<p>Economics is full of complex optimization problems that often:</p>
<ol type="1">
<li>Have multiple local optima</li>
<li>Include both discrete and continuous variables</li>
<li>Involve constraints that are hard to model analytically</li>
<li>Feature interdependencies between variables</li>
</ol>
<p>Traditional methods like calculus-based optimization often struggle with these challenges.</p>
<p>Point out that GAs don’t replace traditional methods but complement them - we use the right tool for the job.</p>
<p>Ask students: “What economic problems have you encountered that might benefit from GA approaches?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="gas-vs.-traditional-optimization" class="slide level2">
<h2>GAs vs.&nbsp;Traditional Optimization</h2>
<table class="caption-top">
<colgroup>
<col style="width: 16%">
<col style="width: 43%">
<col style="width: 39%">
</colgroup>
<thead>
<tr class="header">
<th>Aspect</th>
<th>Traditional Methods</th>
<th>Genetic Algorithms</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Approach</strong></td>
<td>Deterministic</td>
<td>Stochastic</td>
</tr>
<tr class="even">
<td><strong>Search</strong></td>
<td>Local, gradient-based</td>
<td>Global, population-based</td>
</tr>
<tr class="odd">
<td><strong>Solution</strong></td>
<td>Usually single best</td>
<td>Multiple good solutions</td>
</tr>
<tr class="even">
<td><strong>Constraints</strong></td>
<td>Often hard to incorporate</td>
<td>Flexible through fitness</td>
</tr>
<tr class="odd">
<td><strong>Complexity</strong></td>
<td>Struggle with NP-hard problems</td>
<td>Excel with complex landscapes</td>
</tr>
<tr class="even">
<td><strong>Derivatives</strong></td>
<td>Often required</td>
<td>Not needed</td>
</tr>
<tr class="odd">
<td><strong>Parallelization</strong></td>
<td>Often difficult</td>
<td>Natural fit</td>
</tr>
</tbody>
</table>
<aside class="notes">
<p>Traditional optimization methods include: - Linear programming - Gradient descent - Newton-Raphson method - Dynamic programming</p>
<p>Each has strengths but also limitations that GAs can help overcome.</p>
<p>Emphasize that GAs shine when: 1. The fitness landscape is rugged with many local optima 2. The problem has combinatorial complexity 3. The relationships between variables are poorly understood</p>
<p>A good example to discuss: Portfolio optimization with integer constraints on holdings is challenging for traditional methods but well-suited for GAs.</p>
<p>Ask students: “Can you think of an economic problem where you’d prefer traditional optimization? What about one where GAs might be better?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="classroom-discussion" class="slide level2">
<h2>🤔 Classroom Discussion</h2>
<p><strong>Question</strong>: How would you encode these economic problems for a GA?</p>
<ol type="1">
<li>Portfolio selection (choose 10 stocks from universe of 500)</li>
<li>Optimal bidding strategy for auctions</li>
<li>Production scheduling with resource constraints</li>
<li>Optimal monetary policy rule calibration</li>
</ol>
<p><strong>Consider</strong>:</p>
<ul>
<li>What would a “chromosome” represent?</li>
<li>How would you measure fitness?</li>
<li>What constraints exist?</li>
</ul>
<aside class="notes">
<p>Guide students through thinking about encoding strategies:</p>
<p>For portfolio selection: - Binary encoding (1=include stock, 0=exclude) - Fitness could be risk-adjusted return - Constraints include exactly 10 stocks and sector diversification</p>
<p>For auction bidding: - Real-valued encoding of bid amounts for different items - Fitness could be expected profit - Constraints include budget limitations</p>
<p>For production scheduling: - Integer encoding of production quantities by time period - Fitness is profit minus costs - Constraints include production capacity and demand fulfillment</p>
<p>For monetary policy rules: - Real-valued encoding of rule parameters - Fitness based on macroeconomic outcomes - Constraints include bounds on parameter values</p>
<p>Encourage students to debate trade-offs between different encoding schemes.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="core-concepts-workflow" class="title-slide slide level1 center">
<h1>Core Concepts &amp; Workflow</h1>

</section>
<section id="solution-encoding-genotype-phenotype" class="slide level2">
<h2>Solution Encoding: Genotype &amp; Phenotype</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Encoding Types</strong>:</p>
<ul>
<li><strong>Binary</strong>: [1,0,1,1,0,0]
<ul>
<li>Knapsack, selection problems</li>
</ul></li>
<li><strong>Integer</strong>: [3,1,4,1,5]
<ul>
<li>Scheduling, resource allocation</li>
</ul></li>
<li><strong>Real</strong>: [0.35, 1.92, 0.84]
<ul>
<li>Portfolio weights, policy parameters</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><strong>Example: Knapsack Problem</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="co"># Binary encoding for knapsack</span></span>
<span id="cb1-2"><a href=""></a><span class="co"># 1 = include item, 0 = exclude item</span></span>
<span id="cb1-3"><a href=""></a>solution <span class="op">=</span> [<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>]</span>
<span id="cb1-4"><a href=""></a></span>
<span id="cb1-5"><a href=""></a><span class="co"># This means take items 2, 7, and 8</span></span>
<span id="cb1-6"><a href=""></a><span class="co"># and leave the rest behind</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Challenge</strong>: Choose the right encoding for your problem!</p>
</div></div>
<aside class="notes">
<p>Genotype = the encoding representation (e.g., binary string) Phenotype = what the encoding actually means in the problem context</p>
<p>When choosing an encoding scheme, consider: 1. Problem structure - what naturally represents a solution? 2. Efficiency - how compact can the representation be? 3. Completeness - can all possible solutions be represented? 4. Locality - do similar genotypes produce similar phenotypes?</p>
<p>Advanced topic: Some problems benefit from specialized encodings: - Permutation problems (like TSP) need special crossover operators - Tree-based encodings for evolving programs or decision trees</p>
<p>Ask students: “How might the choice of encoding affect the difficulty of the optimization problem?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="population-initialization" class="slide level2">
<h2>Population Initialization</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Key Decisions</strong>:</p>
<ul>
<li>Population size (N)</li>
<li>Random vs.&nbsp;heuristic seeding</li>
<li>Diversity considerations</li>
</ul>
<p><strong>Tradeoffs</strong>:</p>
<ul>
<li>Large populations → better coverage</li>
<li>Small populations → faster evolution</li>
<li>Initialization quality vs.&nbsp;diversity</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href=""></a><span class="im">import</span> random</span>
<span id="cb2-2"><a href=""></a></span>
<span id="cb2-3"><a href=""></a><span class="kw">def</span> random_knapsack_solution(num_items):</span>
<span id="cb2-4"><a href=""></a>  <span class="cf">return</span> [random.randint(<span class="dv">0</span>,<span class="dv">1</span>) </span>
<span id="cb2-5"><a href=""></a>          <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(num_items)]</span>
<span id="cb2-6"><a href=""></a></span>
<span id="cb2-7"><a href=""></a><span class="co"># Generate initial population</span></span>
<span id="cb2-8"><a href=""></a>POPULATION_SIZE <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb2-9"><a href=""></a>population <span class="op">=</span> [</span>
<span id="cb2-10"><a href=""></a>    random_knapsack_solution(<span class="bu">len</span>(items)) </span>
<span id="cb2-11"><a href=""></a>    <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(POPULATION_SIZE)</span>
<span id="cb2-12"><a href=""></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Population size is a key parameter: - Too small: Limited genetic diversity, premature convergence - Too large: Computational overhead, slow convergence</p>
<p>Rule of thumb: Population size often between 50-200, but depends on problem complexity</p>
<p>Initialization strategies: 1. Pure random (most common) 2. Heuristically guided (incorporate domain knowledge) 3. Partially seeded with known good solutions</p>
<p>For economic problems, consider: - Incorporating feasible solutions from existing approaches - Using domain constraints to guide initialization - Creating diverse initial solutions across the parameter space</p>
<p>Discuss with students: “What happens if we initialize with all identical solutions? With completely random ones?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="fitness-functions-measuring-quality" class="slide level2">
<h2>Fitness Functions: Measuring Quality</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>The fitness function</strong>:</p>
<ul>
<li>Evaluates solution quality</li>
<li>Drives selection process</li>
<li>Maps solutions to numeric values</li>
<li>Incorporates constraints</li>
</ul>
<p><strong>Design principles</strong>:</p>
<ul>
<li>Higher values = better solutions</li>
<li>Capture true objectives</li>
<li>Handle constraints appropriately</li>
<li>Computational efficiency</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href=""></a><span class="co"># Knapsack fitness function</span></span>
<span id="cb3-2"><a href=""></a><span class="kw">def</span> knapsack_fitness(solution, items, max_weight):</span>
<span id="cb3-3"><a href=""></a>  total_weight <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb3-4"><a href=""></a>  total_value <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb3-5"><a href=""></a>  </span>
<span id="cb3-6"><a href=""></a>  <span class="co"># Calculate total weight and value</span></span>
<span id="cb3-7"><a href=""></a>  <span class="cf">for</span> choice, item <span class="kw">in</span> <span class="bu">zip</span>(solution, items):</span>
<span id="cb3-8"><a href=""></a>    total_weight <span class="op">+=</span> choice <span class="op">*</span> item.weight</span>
<span id="cb3-9"><a href=""></a>    total_value <span class="op">+=</span> choice <span class="op">*</span> item.value</span>
<span id="cb3-10"><a href=""></a>    </span>
<span id="cb3-11"><a href=""></a>  <span class="co"># Return 0 if weight constraint violated</span></span>
<span id="cb3-12"><a href=""></a>  <span class="cf">return</span> total_value <span class="cf">if</span> total_weight <span class="op">&lt;=</span> max_weight <span class="cf">else</span> <span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>The fitness function is the heart of the GA - it defines what we’re actually trying to optimize.</p>
<p>For economic problems, fitness functions often need to: 1. Balance multiple objectives (e.g., risk vs.&nbsp;return) 2. Handle complex constraints (e.g., budget, diversification) 3. Reflect true economic value (not just mathematical convenience)</p>
<p>Constraint handling approaches: 1. Penalty methods (reduce fitness for infeasible solutions) 2. Repair operators (modify infeasible solutions to make them feasible) 3. Special operators (ensure solutions remain feasible)</p>
<p>For the knapsack example, we use a simple approach: zero fitness for infeasible solutions.</p>
<p>Ask students: “How would you design a fitness function for portfolio optimization that balances return and risk?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="selection-choosing-parents" class="slide level2">
<h2>Selection: Choosing Parents</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Selection methods</strong>:</p>
<ul>
<li>Roulette wheel (fitness-proportional)</li>
<li>Rank-based selection</li>
<li>Tournament selection</li>
<li>Elitism</li>
</ul>
<p><strong>Selection pressure</strong>:</p>
<ul>
<li>Controls convergence rate</li>
<li>Balances exploration vs.&nbsp;exploitation</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href=""></a><span class="co"># Weighted roulette wheel selection</span></span>
<span id="cb4-2"><a href=""></a><span class="kw">def</span> weighted_selection(population, max_weight):</span>
<span id="cb4-3"><a href=""></a>  <span class="co"># Calculate fitness for each solution</span></span>
<span id="cb4-4"><a href=""></a>  pop_fitness <span class="op">=</span> [knapsack_fitness(sol, items, max_weight) </span>
<span id="cb4-5"><a href=""></a>                <span class="cf">for</span> sol <span class="kw">in</span> population]</span>
<span id="cb4-6"><a href=""></a>  </span>
<span id="cb4-7"><a href=""></a>  <span class="co"># Use fitness values as weights</span></span>
<span id="cb4-8"><a href=""></a>  weights <span class="op">=</span> [<span class="bu">max</span>(<span class="fl">0.1</span>, fit) <span class="cf">for</span> fit <span class="kw">in</span> pop_fitness]</span>
<span id="cb4-9"><a href=""></a>  </span>
<span id="cb4-10"><a href=""></a>  <span class="co"># Select two parents based on fitness</span></span>
<span id="cb4-11"><a href=""></a>  <span class="cf">return</span> random.choices(</span>
<span id="cb4-12"><a href=""></a>    population,</span>
<span id="cb4-13"><a href=""></a>    weights<span class="op">=</span>weights,</span>
<span id="cb4-14"><a href=""></a>    k<span class="op">=</span><span class="dv">2</span></span>
<span id="cb4-15"><a href=""></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Selection is about giving better solutions more chances to reproduce.</p>
<p>Different selection methods have different characteristics: - Roulette wheel: Simple but can lead to premature convergence if fitness varies widely - Rank-based: More stable, less affected by fitness scaling - Tournament: Controllable selection pressure, good for parallel implementation - Elitism: Preserves best solutions, prevents regression</p>
<p>Selection pressure is a crucial parameter: - Too high: Quick convergence but may get stuck in local optima - Too low: Maintains diversity but slow convergence</p>
<p>In economic applications, consider: - Risk of premature convergence to local optima - Need to explore multiple viable strategies - Balance between quick solutions and optimal ones</p>
<p>Ask students: “What selection method would you choose for a highly multimodal economic problem? Why?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="crossover-combining-solutions" class="slide level2">
<h2>Crossover: Combining Solutions</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Crossover types</strong>:</p>
<ul>
<li>One-point crossover</li>
<li>Two-point crossover</li>
<li>Uniform crossover</li>
<li>Problem-specific crossovers</li>
</ul>
<p><strong>Key parameters</strong>:</p>
<ul>
<li>Crossover rate (probability)</li>
<li>Number and position of crossover points</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href=""></a><span class="kw">def</span> one_point_crossover(parent1, parent2):</span>
<span id="cb5-2"><a href=""></a>  <span class="co"># Choose random crossover point</span></span>
<span id="cb5-3"><a href=""></a>  point <span class="op">=</span> random.randint(<span class="dv">1</span>, <span class="bu">len</span>(parent1)<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb5-4"><a href=""></a>  </span>
<span id="cb5-5"><a href=""></a>  <span class="co"># Create children by combining parents</span></span>
<span id="cb5-6"><a href=""></a>  child1 <span class="op">=</span> parent1[:point] <span class="op">+</span> parent2[point:]</span>
<span id="cb5-7"><a href=""></a>  child2 <span class="op">=</span> parent2[:point] <span class="op">+</span> parent1[point:]</span>
<span id="cb5-8"><a href=""></a>  </span>
<span id="cb5-9"><a href=""></a>  <span class="cf">return</span> child1, child2</span>
<span id="cb5-10"><a href=""></a></span>
<span id="cb5-11"><a href=""></a><span class="co"># Apply crossover with 70% probability</span></span>
<span id="cb5-12"><a href=""></a><span class="cf">if</span> random.random() <span class="op">&lt;</span> <span class="fl">0.7</span>:</span>
<span id="cb5-13"><a href=""></a>  child1, child2 <span class="op">=</span> one_point_crossover(parent1, parent2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Crossover (recombination) is the main way GAs explore the solution space by combining successful solutions.</p>
<p>Crossover operators should: 1. Preserve building blocks (good subsolutions) 2. Enable meaningful mixing of parent traits 3. Respect the solution encoding</p>
<p>Different crossover types suit different problems: - One-point: Simple, works well when related traits are adjacent - Two-point: Better preservation of central segments - Uniform: More disruptive, good for breaking unwanted correlations</p>
<p>Crossover rate typically 60-90%: - Higher rates increase exploration - Lower rates preserve good solutions but slow evolution</p>
<p>For economic problems, consider: - Whether parts of solutions can be meaningfully recombined - Whether problem structure suggests certain crossover points are better than others</p>
<p>Demonstrate visually how one-point crossover works.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="mutation-introducing-variation" class="slide level2">
<h2>Mutation: Introducing Variation</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Mutation operations</strong>:</p>
<ul>
<li>Bit flip (binary)</li>
<li>Random replacement (integer/real)</li>
<li>Creep mutation (small changes)</li>
<li>Swap mutation (permutation)</li>
</ul>
<p><strong>Key parameters</strong>:</p>
<ul>
<li>Mutation rate</li>
<li>Mutation magnitude (for real values)</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href=""></a><span class="kw">def</span> binary_mutation(solution, mutation_rate<span class="op">=</span><span class="fl">0.01</span>):</span>
<span id="cb6-2"><a href=""></a>  <span class="co"># Create a copy to mutate</span></span>
<span id="cb6-3"><a href=""></a>  mutated <span class="op">=</span> solution.copy()</span>
<span id="cb6-4"><a href=""></a>  </span>
<span id="cb6-5"><a href=""></a>  <span class="co"># Consider each position for mutation</span></span>
<span id="cb6-6"><a href=""></a>  <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(mutated)):</span>
<span id="cb6-7"><a href=""></a>    <span class="cf">if</span> random.random() <span class="op">&lt;</span> mutation_rate:</span>
<span id="cb6-8"><a href=""></a>      <span class="co"># Flip the bit (0-&gt;1, 1-&gt;0)</span></span>
<span id="cb6-9"><a href=""></a>      mutated[i] <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> mutated[i]</span>
<span id="cb6-10"><a href=""></a>      </span>
<span id="cb6-11"><a href=""></a>  <span class="cf">return</span> mutated</span>
<span id="cb6-12"><a href=""></a></span>
<span id="cb6-13"><a href=""></a>child <span class="op">=</span> binary_mutation(child, <span class="fl">0.05</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Mutation prevents genetic stagnation and allows exploration of new regions in the search space.</p>
<p>Mutation serves several critical functions: 1. Maintains genetic diversity 2. Helps escape local optima 3. Recovers lost genetic material 4. Enables fine-tuning of solutions</p>
<p>Mutation rate is typically low (0.1% to 5%): - Too high: Disrupts good solutions, approaches random search - Too low: Limited exploration ability, potential premature convergence</p>
<p>For real-valued problems, consider: - Gaussian mutation (add random value from normal distribution) - Non-uniform mutation (decreasing magnitude over generations)</p>
<p>Economic context: Mutation can represent small changes in strategy, policy adjustments, or asset allocation shifts.</p>
<p>Ask students: “How might mutation rate change as the algorithm progresses? Should it be static or dynamic?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="population-management-survival-strategies" class="slide level2">
<h2>Population Management: Survival Strategies</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Generational models</strong>:</p>
<ul>
<li>Replace entire population each generation</li>
<li>(μ,λ): Generate λ children, select best μ</li>
<li>(μ+λ): Combine parents and children, select best μ</li>
</ul>
<p><strong>Steady-state models</strong>:</p>
<ul>
<li>Replace only a few individuals</li>
<li>Maintain population stability</li>
<li>Often used with elitism</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href=""></a><span class="co"># Generational replacement with elitism</span></span>
<span id="cb7-2"><a href=""></a><span class="kw">def</span> next_generation(population, elite_count<span class="op">=</span><span class="dv">2</span>):</span>
<span id="cb7-3"><a href=""></a>  <span class="co"># Sort by fitness (descending)</span></span>
<span id="cb7-4"><a href=""></a>  pop_with_fitness <span class="op">=</span> [(p, knapsack_fitness(p, items, max_weight)) </span>
<span id="cb7-5"><a href=""></a>                       <span class="cf">for</span> p <span class="kw">in</span> population]</span>
<span id="cb7-6"><a href=""></a>  sorted_pop <span class="op">=</span> [p <span class="cf">for</span> p, f <span class="kw">in</span> <span class="bu">sorted</span>(</span>
<span id="cb7-7"><a href=""></a>      pop_with_fitness, </span>
<span id="cb7-8"><a href=""></a>      key<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">1</span>], </span>
<span id="cb7-9"><a href=""></a>      reverse<span class="op">=</span><span class="va">True</span>)]</span>
<span id="cb7-10"><a href=""></a>  </span>
<span id="cb7-11"><a href=""></a>  <span class="co"># Keep elite individuals</span></span>
<span id="cb7-12"><a href=""></a>  new_pop <span class="op">=</span> sorted_pop[:elite_count]</span>
<span id="cb7-13"><a href=""></a>  </span>
<span id="cb7-14"><a href=""></a>  <span class="co"># Fill rest with offspring</span></span>
<span id="cb7-15"><a href=""></a>  <span class="cf">while</span> <span class="bu">len</span>(new_pop) <span class="op">&lt;</span> POPULATION_SIZE:</span>
<span id="cb7-16"><a href=""></a>    p1, p2 <span class="op">=</span> selection(sorted_pop)</span>
<span id="cb7-17"><a href=""></a>    c1, c2 <span class="op">=</span> crossover(p1, p2)</span>
<span id="cb7-18"><a href=""></a>    new_pop.extend([mutation(c1), mutation(c2)])</span>
<span id="cb7-19"><a href=""></a>  </span>
<span id="cb7-20"><a href=""></a>  <span class="cf">return</span> new_pop[:POPULATION_SIZE]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Population management determines how new solutions replace old ones in the evolutionary process.</p>
<p>Key considerations: 1. Elitism - preserving best solutions (typically 1-5% of population) 2. Replacement rate - how many individuals to replace each generation 3. Selection pressure - how strongly better solutions are favored</p>
<p>Generational vs.&nbsp;steady-state: - Generational: Complete replacement each cycle (with or without elitism) - Steady-state: Replace only a few individuals each cycle</p>
<p>For economic applications: - Elitism ensures we never lose our best solutions (e.g., profitable strategies) - Steady-state can be good for ongoing optimization of economic models - Balance between maintaining diversity and optimizing current best solutions</p>
<p>Ask students: “In an economic context, what might ‘elitism’ represent? What are the tradeoffs?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="termination-when-to-stop" class="slide level2">
<h2>Termination: When to Stop</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Common termination criteria</strong>:</p>
<ul>
<li>Fixed number of generations</li>
<li>Fitness threshold reached</li>
<li>Convergence (lack of improvement)</li>
<li>Time limit exceeded</li>
<li>Combination of criteria</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href=""></a><span class="kw">def</span> run_genetic_algorithm():</span>
<span id="cb8-2"><a href=""></a>  <span class="co"># Initialize population</span></span>
<span id="cb8-3"><a href=""></a>  population <span class="op">=</span> initialize_population()</span>
<span id="cb8-4"><a href=""></a>  </span>
<span id="cb8-5"><a href=""></a>  <span class="co"># Track best solution and fitness</span></span>
<span id="cb8-6"><a href=""></a>  best_solution <span class="op">=</span> <span class="va">None</span></span>
<span id="cb8-7"><a href=""></a>  best_fitness <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb8-8"><a href=""></a>  stagnant_generations <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb8-9"><a href=""></a>  </span>
<span id="cb8-10"><a href=""></a>  <span class="co"># Main loop</span></span>
<span id="cb8-11"><a href=""></a>  <span class="cf">for</span> generation <span class="kw">in</span> <span class="bu">range</span>(MAX_GENERATIONS):</span>
<span id="cb8-12"><a href=""></a>    <span class="co"># Evaluate population</span></span>
<span id="cb8-13"><a href=""></a>    <span class="cf">for</span> solution <span class="kw">in</span> population:</span>
<span id="cb8-14"><a href=""></a>      fitness <span class="op">=</span> calculate_fitness(solution)</span>
<span id="cb8-15"><a href=""></a>      <span class="cf">if</span> fitness <span class="op">&gt;</span> best_fitness:</span>
<span id="cb8-16"><a href=""></a>        best_fitness <span class="op">=</span> fitness</span>
<span id="cb8-17"><a href=""></a>        best_solution <span class="op">=</span> solution</span>
<span id="cb8-18"><a href=""></a>        stagnant_generations <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb8-19"><a href=""></a>      <span class="cf">else</span>:</span>
<span id="cb8-20"><a href=""></a>        stagnant_generations <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb8-21"><a href=""></a>    </span>
<span id="cb8-22"><a href=""></a>    <span class="co"># Check termination conditions</span></span>
<span id="cb8-23"><a href=""></a>    <span class="cf">if</span> stagnant_generations <span class="op">&gt;=</span> CONVERGENCE_THRESHOLD:</span>
<span id="cb8-24"><a href=""></a>      <span class="bu">print</span>(<span class="st">"Converged!"</span>)</span>
<span id="cb8-25"><a href=""></a>      <span class="cf">break</span></span>
<span id="cb8-26"><a href=""></a>    </span>
<span id="cb8-27"><a href=""></a>    <span class="co"># Create next generation</span></span>
<span id="cb8-28"><a href=""></a>    population <span class="op">=</span> next_generation(population)</span>
<span id="cb8-29"><a href=""></a>  </span>
<span id="cb8-30"><a href=""></a>  <span class="cf">return</span> best_solution, best_fitness</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Termination criteria determine when to stop the evolutionary process.</p>
<p>Common strategies: 1. Fixed computation budget (generations or evaluations) 2. Convergence detection (no improvement for N generations) 3. Target fitness achieved 4. Diversity below threshold (population too similar)</p>
<p>For economic applications: - Consider computational resources vs.&nbsp;solution quality - May need multiple runs to ensure robust solutions - For time-sensitive applications, set hard time limits - For critical applications, use multiple criteria</p>
<p>Often in economic modeling, we’re looking for “good enough” solutions within resource constraints.</p>
<p>Ask students: “What termination criteria would you use for a time-sensitive economic decision vs.&nbsp;a long-term planning problem?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="hands-on-demonstration" class="title-slide slide level1 center">
<h1>Hands-on Demonstration</h1>

</section>
<section id="simple-ga-implementation-function-maximization" class="slide level2">
<h2>Simple GA Implementation: Function Maximization</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>Let’s maximize:</p>
<p><span class="math display">\[f(x) = x \sin(10\pi x) + 2.0\]</span></p>
<p><strong>where</strong>: <span class="math inline">\(x \in [0, 1]\)</span></p>
<p>This function has multiple local optima, making it a good GA test case.</p>
<p><strong>Key steps</strong>:</p>
<ol type="1">
<li>Binary encoding of x values</li>
<li>Initialize random population</li>
<li>Run GA operations</li>
<li>Track best solution</li>
</ol>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb9-2"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb9-3"><a href=""></a></span>
<span id="cb9-4"><a href=""></a><span class="co"># Target function to maximize</span></span>
<span id="cb9-5"><a href=""></a><span class="kw">def</span> f(x):</span>
<span id="cb9-6"><a href=""></a>    <span class="cf">return</span> x <span class="op">*</span> np.sin(<span class="dv">10</span> <span class="op">*</span> np.pi <span class="op">*</span> x) <span class="op">+</span> <span class="fl">2.0</span></span>
<span id="cb9-7"><a href=""></a></span>
<span id="cb9-8"><a href=""></a><span class="co"># Plot the function</span></span>
<span id="cb9-9"><a href=""></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1000</span>)</span>
<span id="cb9-10"><a href=""></a>y <span class="op">=</span> f(x)</span>
<span id="cb9-11"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb9-12"><a href=""></a>plt.plot(x, y)</span>
<span id="cb9-13"><a href=""></a>plt.title(<span class="st">"Function to Maximize"</span>)</span>
<span id="cb9-14"><a href=""></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb9-15"><a href=""></a>plt.show()</span>
<span id="cb9-16"><a href=""></a></span>
<span id="cb9-17"><a href=""></a><span class="co"># Global maximum is around x ≈ 0.85</span></span>
<span id="cb9-18"><a href=""></a><span class="co"># with f(x) ≈ 2.85</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>This is a classic test function with multiple local maxima, making it challenging for traditional hill-climbing methods.</p>
<p>The function has: - A global maximum around x ≈ 0.85 with value ≈ 2.85 - Multiple local maxima due to the sine term - Increasing trend due to the linear term</p>
<p>As we implement the GA, highlight: 1. How we encode real values as binary strings 2. How the population explores different peaks 3. How selection pressure and mutation balance exploration vs.&nbsp;exploitation</p>
<p>This example is simpler than economic problems but illustrates core GA mechanics that transfer to more complex domains.</p>
<p>Encourage students to think about: “How would traditional optimization methods handle this function? Why might they struggle?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="binary-encoding-for-real-values" class="slide level2">
<h2>Binary Encoding for Real Values</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Binary encoding</strong>:</p>
<ul>
<li>Map binary string to real value</li>
<li>More bits = higher precision</li>
<li>Range mapped to <span class="math inline">\([0, 2^n - 1]\)</span></li>
</ul>
<p><strong>Example</strong>:</p>
<p>8-bit encoding for <span class="math inline">\(x \in [0,1]\)</span>:</p>
<ul>
<li><code>00000000</code> → 0.0</li>
<li><code>10000000</code> → 0.5</li>
<li><code>11111111</code> → 0.996</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href=""></a><span class="kw">def</span> binary_to_real(binary, min_val, max_val):</span>
<span id="cb10-2"><a href=""></a>    <span class="co"># Convert binary array to integer</span></span>
<span id="cb10-3"><a href=""></a>    int_val <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-4"><a href=""></a>    <span class="cf">for</span> i, bit <span class="kw">in</span> <span class="bu">enumerate</span>(<span class="bu">reversed</span>(binary)):</span>
<span id="cb10-5"><a href=""></a>        int_val <span class="op">+=</span> bit <span class="op">*</span> (<span class="dv">2</span> <span class="op">**</span> i)</span>
<span id="cb10-6"><a href=""></a>    </span>
<span id="cb10-7"><a href=""></a>    <span class="co"># Map to range [min_val, max_val]</span></span>
<span id="cb10-8"><a href=""></a>    n_bits <span class="op">=</span> <span class="bu">len</span>(binary)</span>
<span id="cb10-9"><a href=""></a>    <span class="cf">return</span> min_val <span class="op">+</span> (max_val <span class="op">-</span> min_val) <span class="op">*</span> int_val <span class="op">/</span> (<span class="dv">2</span><span class="op">**</span>n_bits <span class="op">-</span> <span class="dv">1</span>)</span>
<span id="cb10-10"><a href=""></a></span>
<span id="cb10-11"><a href=""></a><span class="co"># Example</span></span>
<span id="cb10-12"><a href=""></a>chromosome <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>]</span>
<span id="cb10-13"><a href=""></a>x <span class="op">=</span> binary_to_real(chromosome, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb10-14"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Chromosome </span><span class="sc">{</span>chromosome<span class="sc">}</span><span class="ss"> represents x = </span><span class="sc">{</span>x<span class="sc">:.4f}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Binary encoding is a classic approach for representing real values in GAs.</p>
<p>Key points to emphasize: 1. Precision depends on the number of bits (n bits gives 2^n possible values) 2. We’re mapping the integer range [0, 2^n-1] to our desired range [min, max] 3. The mapping is linear, so we get uniform coverage of the range</p>
<p>For economic variables: - Interest rates might need only a few bits (e.g., 0% to 5% in 0.1% increments) - Asset allocation percentages might need more precision - Some problems benefit from direct real-value encoding instead</p>
<p>Trade-off: More bits means higher precision but larger search space.</p>
<p>Demonstrate the concept by showing how different binary strings map to different x-values, and how changing individual bits can make large or small changes to the value depending on their position.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="complete-ga-for-function-maximization" class="slide level2">
<h2>Complete GA for Function Maximization</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href=""></a><span class="co"># Parameters</span></span>
<span id="cb11-2"><a href=""></a>POPULATION_SIZE <span class="op">=</span> <span class="dv">50</span></span>
<span id="cb11-3"><a href=""></a>CHROMOSOME_LENGTH <span class="op">=</span> <span class="dv">16</span></span>
<span id="cb11-4"><a href=""></a>MUTATION_RATE <span class="op">=</span> <span class="fl">0.01</span></span>
<span id="cb11-5"><a href=""></a>MAX_GENERATIONS <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb11-6"><a href=""></a>MIN_X, MAX_X <span class="op">=</span> <span class="fl">0.0</span>, <span class="fl">1.0</span></span>
<span id="cb11-7"><a href=""></a></span>
<span id="cb11-8"><a href=""></a><span class="co"># Initialize population</span></span>
<span id="cb11-9"><a href=""></a><span class="kw">def</span> initialize_population():</span>
<span id="cb11-10"><a href=""></a>    <span class="cf">return</span> [[random.randint(<span class="dv">0</span>, <span class="dv">1</span>) <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(CHROMOSOME_LENGTH)] </span>
<span id="cb11-11"><a href=""></a>            <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(POPULATION_SIZE)]</span>
<span id="cb11-12"><a href=""></a></span>
<span id="cb11-13"><a href=""></a><span class="co"># Calculate fitness</span></span>
<span id="cb11-14"><a href=""></a><span class="kw">def</span> calculate_fitness(chromosome):</span>
<span id="cb11-15"><a href=""></a>    x <span class="op">=</span> binary_to_real(chromosome, MIN_X, MAX_X)</span>
<span id="cb11-16"><a href=""></a>    <span class="cf">return</span> f(x)  <span class="co"># Our target function</span></span>
<span id="cb11-17"><a href=""></a></span>
<span id="cb11-18"><a href=""></a><span class="co"># Selection (tournament selection)</span></span>
<span id="cb11-19"><a href=""></a><span class="kw">def</span> selection(population, fitnesses, tournament_size<span class="op">=</span><span class="dv">3</span>):</span>
<span id="cb11-20"><a href=""></a>    selected <span class="op">=</span> []</span>
<span id="cb11-21"><a href=""></a>    <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb11-22"><a href=""></a>        contestants <span class="op">=</span> random.sample(<span class="bu">range</span>(POPULATION_SIZE), tournament_size)</span>
<span id="cb11-23"><a href=""></a>        winner <span class="op">=</span> <span class="bu">max</span>(contestants, key<span class="op">=</span><span class="kw">lambda</span> i: fitnesses[i])</span>
<span id="cb11-24"><a href=""></a>        selected.append(population[winner])</span>
<span id="cb11-25"><a href=""></a>    <span class="cf">return</span> selected[<span class="dv">0</span>], selected[<span class="dv">1</span>]</span>
<span id="cb11-26"><a href=""></a></span>
<span id="cb11-27"><a href=""></a><span class="co"># Run the algorithm</span></span>
<span id="cb11-28"><a href=""></a>population <span class="op">=</span> initialize_population()</span>
<span id="cb11-29"><a href=""></a>best_x, best_fitness <span class="op">=</span> <span class="dv">0</span>, <span class="dv">0</span></span>
<span id="cb11-30"><a href=""></a></span>
<span id="cb11-31"><a href=""></a><span class="cf">for</span> generation <span class="kw">in</span> <span class="bu">range</span>(MAX_GENERATIONS):</span>
<span id="cb11-32"><a href=""></a>    <span class="co"># Evaluate fitness</span></span>
<span id="cb11-33"><a href=""></a>    fitnesses <span class="op">=</span> [calculate_fitness(chromosome) <span class="cf">for</span> chromosome <span class="kw">in</span> population]</span>
<span id="cb11-34"><a href=""></a>    </span>
<span id="cb11-35"><a href=""></a>    <span class="co"># Track best solution</span></span>
<span id="cb11-36"><a href=""></a>    best_idx <span class="op">=</span> fitnesses.index(<span class="bu">max</span>(fitnesses))</span>
<span id="cb11-37"><a href=""></a>    x_value <span class="op">=</span> binary_to_real(population[best_idx], MIN_X, MAX_X)</span>
<span id="cb11-38"><a href=""></a>    <span class="cf">if</span> fitnesses[best_idx] <span class="op">&gt;</span> best_fitness:</span>
<span id="cb11-39"><a href=""></a>        best_fitness <span class="op">=</span> fitnesses[best_idx]</span>
<span id="cb11-40"><a href=""></a>        best_x <span class="op">=</span> x_value</span>
<span id="cb11-41"><a href=""></a>        </span>
<span id="cb11-42"><a href=""></a>    <span class="co"># Create new population</span></span>
<span id="cb11-43"><a href=""></a>    new_population <span class="op">=</span> []</span>
<span id="cb11-44"><a href=""></a>    <span class="cf">while</span> <span class="bu">len</span>(new_population) <span class="op">&lt;</span> POPULATION_SIZE:</span>
<span id="cb11-45"><a href=""></a>        <span class="co"># Selection</span></span>
<span id="cb11-46"><a href=""></a>        parent1, parent2 <span class="op">=</span> selection(population, fitnesses)</span>
<span id="cb11-47"><a href=""></a>        </span>
<span id="cb11-48"><a href=""></a>        <span class="co"># Crossover</span></span>
<span id="cb11-49"><a href=""></a>        <span class="cf">if</span> random.random() <span class="op">&lt;</span> <span class="fl">0.7</span>:</span>
<span id="cb11-50"><a href=""></a>            point <span class="op">=</span> random.randint(<span class="dv">1</span>, CHROMOSOME_LENGTH<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb11-51"><a href=""></a>            child1 <span class="op">=</span> parent1[:point] <span class="op">+</span> parent2[point:]</span>
<span id="cb11-52"><a href=""></a>            child2 <span class="op">=</span> parent2[:point] <span class="op">+</span> parent1[point:]</span>
<span id="cb11-53"><a href=""></a>        <span class="cf">else</span>:</span>
<span id="cb11-54"><a href=""></a>            child1, child2 <span class="op">=</span> parent1.copy(), parent2.copy()</span>
<span id="cb11-55"><a href=""></a>            </span>
<span id="cb11-56"><a href=""></a>        <span class="co"># Mutation</span></span>
<span id="cb11-57"><a href=""></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(CHROMOSOME_LENGTH):</span>
<span id="cb11-58"><a href=""></a>            <span class="cf">if</span> random.random() <span class="op">&lt;</span> MUTATION_RATE:</span>
<span id="cb11-59"><a href=""></a>                child1[i] <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> child1[i]</span>
<span id="cb11-60"><a href=""></a>            <span class="cf">if</span> random.random() <span class="op">&lt;</span> MUTATION_RATE:</span>
<span id="cb11-61"><a href=""></a>                child2[i] <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> child2[i]</span>
<span id="cb11-62"><a href=""></a>                </span>
<span id="cb11-63"><a href=""></a>        new_population.extend([child1, child2])</span>
<span id="cb11-64"><a href=""></a>        </span>
<span id="cb11-65"><a href=""></a>    population <span class="op">=</span> new_population[:POPULATION_SIZE]</span>
<span id="cb11-66"><a href=""></a></span>
<span id="cb11-67"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Best solution: x = </span><span class="sc">{</span>best_x<span class="sc">:.6f}</span><span class="ss">, f(x) = </span><span class="sc">{</span>best_fitness<span class="sc">:.6f}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>This is a complete GA implementation for our function maximization problem.</p>
<p>Key points to highlight: 1. Population initialization (random binary strings) 2. Fitness calculation (evaluating our function) 3. Selection (tournament selection chooses better solutions) 4. Crossover (one-point, combining parent solutions) 5. Mutation (bit flips to maintain diversity) 6. Generational replacement</p>
<p>Walk through a couple of generations to show: - How initial population covers the search space - How selection favors better solutions - How crossover combines good solutions - How mutation provides small variations</p>
<p>This same structure applies to economic optimization problems - only the encoding and fitness function would change based on the specific problem.</p>
<p>Ask students: “Where in this algorithm might we adjust parameters to balance exploration vs.&nbsp;exploitation?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="visualizing-ga-progress-13-tracking-history" class="slide level2">
<h2>Visualizing GA Progress (1/3): Tracking History</h2>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href=""></a><span class="co"># Store history for visualization</span></span>
<span id="cb12-2"><a href=""></a>history <span class="op">=</span> []</span>
<span id="cb12-3"><a href=""></a></span>
<span id="cb12-4"><a href=""></a><span class="co"># Inside the GA loop, after fitness evaluation:</span></span>
<span id="cb12-5"><a href=""></a>history.append({</span>
<span id="cb12-6"><a href=""></a>    <span class="st">'generation'</span>: generation,</span>
<span id="cb12-7"><a href=""></a>    <span class="st">'best_fitness'</span>: best_fitness,</span>
<span id="cb12-8"><a href=""></a>    <span class="st">'avg_fitness'</span>: <span class="bu">sum</span>(fitnesses) <span class="op">/</span> <span class="bu">len</span>(fitnesses),</span>
<span id="cb12-9"><a href=""></a>    <span class="st">'best_x'</span>: best_x,</span>
<span id="cb12-10"><a href=""></a>    <span class="st">'population'</span>: [binary_to_real(chrom, MIN_X, MAX_X) <span class="cf">for</span> chrom <span class="kw">in</span> population]</span>
<span id="cb12-11"><a href=""></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="visualizing-ga-progress-23-prepare-for-plotting" class="slide level2">
<h2>Visualizing GA Progress (2/3): Prepare for Plotting</h2>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href=""></a><span class="co"># After the algorithm completes:</span></span>
<span id="cb13-2"><a href=""></a>generations <span class="op">=</span> [h[<span class="st">'generation'</span>] <span class="cf">for</span> h <span class="kw">in</span> history]</span>
<span id="cb13-3"><a href=""></a>best_fitnesses <span class="op">=</span> [h[<span class="st">'best_fitness'</span>] <span class="cf">for</span> h <span class="kw">in</span> history]</span>
<span id="cb13-4"><a href=""></a>avg_fitnesses <span class="op">=</span> [h[<span class="st">'avg_fitness'</span>] <span class="cf">for</span> h <span class="kw">in</span> history]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="visualizing-ga-progress-33-generate-plots" class="slide level2">
<h2>Visualizing GA Progress (3/3): Generate Plots</h2>
<div id="9fec347f" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb14-2"><a href=""></a></span>
<span id="cb14-3"><a href=""></a><span class="co"># Generate mock history data</span></span>
<span id="cb14-4"><a href=""></a>history <span class="op">=</span> [</span>
<span id="cb14-5"><a href=""></a>    {</span>
<span id="cb14-6"><a href=""></a>        <span class="st">'generation'</span>: i,</span>
<span id="cb14-7"><a href=""></a>        <span class="st">'best_fitness'</span>: <span class="dv">100</span> <span class="op">-</span> i <span class="op">*</span> <span class="fl">0.5</span>,</span>
<span id="cb14-8"><a href=""></a>        <span class="st">'avg_fitness'</span>: <span class="dv">100</span> <span class="op">-</span> i <span class="op">*</span> <span class="fl">0.7</span>,</span>
<span id="cb14-9"><a href=""></a>        <span class="st">'population'</span>: [i <span class="op">/</span> <span class="dv">100</span> <span class="op">+</span> j <span class="op">*</span> <span class="fl">0.005</span> <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">100</span>)]</span>
<span id="cb14-10"><a href=""></a>    }</span>
<span id="cb14-11"><a href=""></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">100</span>)</span>
<span id="cb14-12"><a href=""></a>]</span>
<span id="cb14-13"><a href=""></a></span>
<span id="cb14-14"><a href=""></a>generations <span class="op">=</span> [h[<span class="st">'generation'</span>] <span class="cf">for</span> h <span class="kw">in</span> history]</span>
<span id="cb14-15"><a href=""></a>best_fitnesses <span class="op">=</span> [h[<span class="st">'best_fitness'</span>] <span class="cf">for</span> h <span class="kw">in</span> history]</span>
<span id="cb14-16"><a href=""></a>avg_fitnesses <span class="op">=</span> [h[<span class="st">'avg_fitness'</span>] <span class="cf">for</span> h <span class="kw">in</span> history]</span>
<span id="cb14-17"><a href=""></a></span>
<span id="cb14-18"><a href=""></a><span class="co"># Plot fitness progress</span></span>
<span id="cb14-19"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb14-20"><a href=""></a>plt.plot(generations, best_fitnesses, <span class="st">'b-'</span>, label<span class="op">=</span><span class="st">'Best Fitness'</span>)</span>
<span id="cb14-21"><a href=""></a>plt.plot(generations, avg_fitnesses, <span class="st">'r-'</span>, label<span class="op">=</span><span class="st">'Average Fitness'</span>)</span>
<span id="cb14-22"><a href=""></a>plt.xlabel(<span class="st">'Generation'</span>)</span>
<span id="cb14-23"><a href=""></a>plt.ylabel(<span class="st">'Fitness'</span>)</span>
<span id="cb14-24"><a href=""></a>plt.title(<span class="st">'GA Progress'</span>)</span>
<span id="cb14-25"><a href=""></a>plt.legend()</span>
<span id="cb14-26"><a href=""></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb14-27"><a href=""></a>plt.show()</span>
<span id="cb14-28"><a href=""></a></span>
<span id="cb14-29"><a href=""></a><span class="co"># Plot population distribution at selected generations</span></span>
<span id="cb14-30"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">8</span>))</span>
<span id="cb14-31"><a href=""></a><span class="cf">for</span> i, gen <span class="kw">in</span> <span class="bu">enumerate</span>([<span class="dv">0</span>, <span class="dv">9</span>, <span class="dv">19</span>, <span class="dv">49</span>, <span class="dv">99</span>]):</span>
<span id="cb14-32"><a href=""></a>    plt.subplot(<span class="dv">5</span>, <span class="dv">1</span>, i<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb14-33"><a href=""></a>    plt.hist(history[gen][<span class="st">'population'</span>], bins<span class="op">=</span><span class="dv">20</span>, <span class="bu">range</span><span class="op">=</span>(<span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb14-34"><a href=""></a>    plt.title(<span class="ss">f"Generation </span><span class="sc">{</span>gen<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb14-35"><a href=""></a>    plt.ylabel(<span class="st">"Count"</span>)</span>
<span id="cb14-36"><a href=""></a>plt.tight_layout()</span>
<span id="cb14-37"><a href=""></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="genetic_algorithms_files/figure-revealjs/cell-2-output-1.png"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="genetic_algorithms_files/figure-revealjs/cell-2-output-2.png"></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Visualizing GA progress helps understand the evolutionary process and diagnose issues.</p>
<p>Key visualizations to explain: 1. Fitness over time (best and average) - Shows convergence rate - Gap between best and average indicates diversity</p>
<ol start="2" type="1">
<li>Population distribution
<ul>
<li>Initial: Wide distribution (exploration phase)</li>
<li>Middle: Clustering around promising areas</li>
<li>Final: Concentrated at optimal solution(s)</li>
</ul></li>
</ol>
<p>Look for patterns: - Rapid initial improvement followed by slower progress - Premature convergence (flat line too early) - Stagnation (no improvement for many generations) - Population diversity loss (all individuals too similar)</p>
<p>These visualizations help tune parameters: - If converging too quickly, increase population size or decrease selection pressure - If converging too slowly, increase selection pressure or decrease mutation rate</p>
<p>Ask students: “What patterns would you look for to determine if the GA is working effectively?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="coding-challenge-parameter-effects-13" class="slide level2">
<h2>🧪 Coding Challenge: Parameter Effects (1/3)</h2>
<p><strong>Challenge</strong>: Modify the GA to investigate these parameters:</p>
<ol type="1">
<li>Population size (<code>POPULATION_SIZE</code>)</li>
<li>Mutation rate (<code>MUTATION_RATE</code>)</li>
<li>Selection pressure (tournament size)</li>
<li>Crossover rate</li>
</ol>
</section>
<section id="coding-challenge-parameter-effects-23" class="slide level2">
<h2>🧪 Coding Challenge: Parameter Effects (2/3)</h2>
<p><strong>For each parameter</strong>:</p>
<ul>
<li>Run 5 experiments with different values</li>
<li>Track best fitness and generations to convergence</li>
<li>Plot results</li>
<li>Which setting worked best? Why?</li>
</ul>
</section>
<section id="coding-challenge-parameter-effects-33" class="slide level2">
<h2>🧪 Coding Challenge: Parameter Effects (3/3)</h2>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href=""></a><span class="co"># Parameter ranges to test</span></span>
<span id="cb15-2"><a href=""></a>pop_sizes <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">200</span>]</span>
<span id="cb15-3"><a href=""></a>mutation_rates <span class="op">=</span> [<span class="fl">0.001</span>, <span class="fl">0.01</span>, <span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span>]</span>
<span id="cb15-4"><a href=""></a>tournament_sizes <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">10</span>]</span>
<span id="cb15-5"><a href=""></a>crossover_rates <span class="op">=</span> [<span class="fl">0.5</span>, <span class="fl">0.6</span>, <span class="fl">0.7</span>, <span class="fl">0.8</span>, <span class="fl">0.9</span>]</span>
<span id="cb15-6"><a href=""></a></span>
<span id="cb15-7"><a href=""></a><span class="co"># Function to run experiment with given parameters</span></span>
<span id="cb15-8"><a href=""></a><span class="kw">def</span> run_experiment(pop_size, mut_rate, tourn_size, cross_rate):</span>
<span id="cb15-9"><a href=""></a>    <span class="co"># Your GA implementation here</span></span>
<span id="cb15-10"><a href=""></a>    <span class="co"># Return best_fitness, generations_to_converge</span></span>
<span id="cb15-11"><a href=""></a>    <span class="cf">pass</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>This challenge helps students understand parameter sensitivity in GAs.</p>
<p>Guidance for students: 1. Focus on one parameter at a time, keeping others constant 2. Run multiple trials for each parameter value (results vary due to randomness) 3. Look for both the best fitness achieved and how quickly it converges 4. Consider the tradeoff between solution quality and computational effort</p>
<p>Expected outcomes: - Population size: Larger populations explore more but take longer - Mutation rate: Too low = premature convergence, too high = disruption - Tournament size: Higher values increase selection pressure - Crossover rate: Higher values increase exploration</p>
<p>Economic context: Parameter tuning is like calibrating an economic model - we’re looking for the settings that give the best performance for our specific problem.</p>
<p>After students complete the exercise, discuss how different economic problems might require different parameter settings.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="key-parameters-tuning" class="title-slide slide level1 center">
<h1>Key Parameters &amp; Tuning</h1>

</section>
<section id="population-size-balancing-coverage-speed" class="slide level2">
<h2>Population Size: Balancing Coverage &amp; Speed</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Population size effects</strong>:</p>
<ul>
<li><strong>Small</strong> (20-50)
<ul>
<li>Fast execution</li>
<li>Limited diversity</li>
<li>Quick convergence</li>
<li>May miss optimal solutions</li>
</ul></li>
<li><strong>Large</strong> (100-1000+)
<ul>
<li>Better coverage of search space</li>
<li>Higher diversity</li>
<li>Slower convergence</li>
<li>Higher computational cost</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href=""></a><span class="co"># Common scaling approaches</span></span>
<span id="cb16-2"><a href=""></a></span>
<span id="cb16-3"><a href=""></a><span class="co"># Scale with problem complexity</span></span>
<span id="cb16-4"><a href=""></a>POPULATION_SIZE <span class="op">=</span> <span class="dv">4</span> <span class="op">*</span> CHROMOSOME_LENGTH</span>
<span id="cb16-5"><a href=""></a></span>
<span id="cb16-6"><a href=""></a><span class="co"># Scale with problem size</span></span>
<span id="cb16-7"><a href=""></a><span class="co"># (for combinatorial problems)</span></span>
<span id="cb16-8"><a href=""></a>POPULATION_SIZE <span class="op">=</span> <span class="dv">10</span> <span class="op">*</span> NUMBER_OF_VARIABLES</span>
<span id="cb16-9"><a href=""></a></span>
<span id="cb16-10"><a href=""></a><span class="co"># Dynamic sizing</span></span>
<span id="cb16-11"><a href=""></a><span class="co"># (reduce size over time)</span></span>
<span id="cb16-12"><a href=""></a>gen_factor <span class="op">=</span> <span class="fl">1.0</span> <span class="op">-</span> (generation <span class="op">/</span> MAX_GENERATIONS) <span class="op">*</span> <span class="fl">0.5</span></span>
<span id="cb16-13"><a href=""></a>current_pop_size <span class="op">=</span> <span class="bu">int</span>(INITIAL_POP <span class="op">*</span> gen_factor)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Population size is one of the most critical parameters in GA performance.</p>
<p>Rules of thumb for sizing: 1. Small problems (few variables): 30-50 individuals 2. Medium problems: 50-200 individuals 3. Large/complex problems: 200-1000+ individuals</p>
<p>The ideal size depends on: - Problem complexity and dimensionality - Available computational resources - Required solution quality - Time constraints</p>
<p>For economic applications: - Portfolio optimization with many assets benefits from larger populations - Simple policy optimization might work well with smaller populations - Consider computational budget vs.&nbsp;solution quality tradeoffs</p>
<p>Some advanced approaches use variable population sizes: - Starting large for exploration, then reducing - Adding new random individuals when diversity drops - Adaptive sizing based on progress</p>
<p>Ask students: “For a portfolio optimization problem, how might the number of assets affect your choice of population size?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="selection-pressure-exploration-vs.-exploitation" class="slide level2">
<h2>Selection Pressure: Exploration vs.&nbsp;Exploitation</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Controlling selection pressure</strong>:</p>
<ul>
<li>Tournament size</li>
<li>Ranking schemes</li>
<li>Fitness scaling</li>
<li>Elitism percentage</li>
</ul>
<p><strong>Effects</strong>:</p>
<ul>
<li><strong>High pressure</strong>: Quick convergence, risk of local optima</li>
<li><strong>Low pressure</strong>: Slow convergence, better exploration</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href=""></a><span class="co"># Tournament selection with adjustable pressure</span></span>
<span id="cb17-2"><a href=""></a><span class="kw">def</span> tournament_selection(population, fitnesses, size):</span>
<span id="cb17-3"><a href=""></a>    <span class="co">"""</span></span>
<span id="cb17-4"><a href=""></a><span class="co">    Higher size = higher selection pressure</span></span>
<span id="cb17-5"><a href=""></a><span class="co">    """</span></span>
<span id="cb17-6"><a href=""></a>    contestants <span class="op">=</span> random.sample(<span class="bu">range</span>(<span class="bu">len</span>(population)), size)</span>
<span id="cb17-7"><a href=""></a>    winner_idx <span class="op">=</span> <span class="bu">max</span>(contestants, key<span class="op">=</span><span class="kw">lambda</span> i: fitnesses[i])</span>
<span id="cb17-8"><a href=""></a>    <span class="cf">return</span> population[winner_idx]</span>
<span id="cb17-9"><a href=""></a></span>
<span id="cb17-10"><a href=""></a><span class="co"># Fitness scaling to adjust pressure</span></span>
<span id="cb17-11"><a href=""></a><span class="kw">def</span> scale_fitness(fitnesses, pressure<span class="op">=</span><span class="fl">1.5</span>):</span>
<span id="cb17-12"><a href=""></a>    <span class="co">"""</span></span>
<span id="cb17-13"><a href=""></a><span class="co">    Higher pressure value increases selectivity</span></span>
<span id="cb17-14"><a href=""></a><span class="co">    """</span></span>
<span id="cb17-15"><a href=""></a>    ranked <span class="op">=</span> <span class="bu">sorted</span>(<span class="bu">range</span>(<span class="bu">len</span>(fitnesses)), </span>
<span id="cb17-16"><a href=""></a>                   key<span class="op">=</span><span class="kw">lambda</span> i: fitnesses[i])</span>
<span id="cb17-17"><a href=""></a>    scaled <span class="op">=</span> []</span>
<span id="cb17-18"><a href=""></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(fitnesses)):</span>
<span id="cb17-19"><a href=""></a>        rank <span class="op">=</span> ranked.index(i)</span>
<span id="cb17-20"><a href=""></a>        scaled.append(<span class="dv">2</span> <span class="op">-</span> pressure <span class="op">+</span> </span>
<span id="cb17-21"><a href=""></a>                     <span class="dv">2</span><span class="op">*</span>(pressure<span class="op">-</span><span class="dv">1</span>)<span class="op">*</span>rank<span class="op">/</span>(<span class="bu">len</span>(fitnesses)<span class="op">-</span><span class="dv">1</span>))</span>
<span id="cb17-22"><a href=""></a>    <span class="cf">return</span> scaled</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Selection pressure is the degree to which better solutions are favored over worse ones.</p>
<p>Think of selection pressure as: - High pressure = “survival of only the very fittest” - Low pressure = “most solutions get some chance to reproduce”</p>
<p>Selection pressure affects: 1. Convergence speed 2. Diversity maintenance 3. Exploration vs.&nbsp;exploitation balance 4. Likelihood of finding global vs.&nbsp;local optima</p>
<p>Tournament selection is popular because it’s easy to adjust: - Tournament size 2 = low pressure - Tournament size 7+ = high pressure</p>
<p>For economic problems: - Complex landscapes (e.g., macro policy optimization) may need lower pressure - Simple problems with few local optima can use higher pressure - Consider starting with moderate pressure and adjusting based on results</p>
<p>Ask students: “In an economic context, what risks might come from too high selection pressure? Too low?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="mutation-crossover-rates-variation-control" class="slide level2">
<h2>Mutation &amp; Crossover Rates: Variation Control</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Mutation rate</strong>:</p>
<ul>
<li>Typical range: 0.1% - 5% per bit</li>
<li>Too high: Random search</li>
<li>Too low: Premature convergence</li>
<li>Consider 1/chromosome_length</li>
</ul>
<p><strong>Crossover rate</strong>:</p>
<ul>
<li>Typical range: 60% - 95%</li>
<li>Higher rate: More exploration</li>
<li>Lower rate: More exploitation</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href=""></a><span class="co"># Adaptive mutation rate</span></span>
<span id="cb18-2"><a href=""></a><span class="kw">def</span> adaptive_mutation_rate(generation, max_gen):</span>
<span id="cb18-3"><a href=""></a>    <span class="co">"""</span></span>
<span id="cb18-4"><a href=""></a><span class="co">    Start high, decrease over time</span></span>
<span id="cb18-5"><a href=""></a><span class="co">    """</span></span>
<span id="cb18-6"><a href=""></a>    start_rate <span class="op">=</span> <span class="fl">0.05</span>  <span class="co"># 5%</span></span>
<span id="cb18-7"><a href=""></a>    end_rate <span class="op">=</span> <span class="fl">0.001</span>   <span class="co"># 0.1%</span></span>
<span id="cb18-8"><a href=""></a>    <span class="cf">return</span> start_rate <span class="op">-</span> (start_rate <span class="op">-</span> end_rate) <span class="op">*</span> (generation <span class="op">/</span> max_gen)</span>
<span id="cb18-9"><a href=""></a></span>
<span id="cb18-10"><a href=""></a><span class="co"># Adaptive crossover</span></span>
<span id="cb18-11"><a href=""></a><span class="kw">def</span> adaptive_crossover_rate(avg_fitness, max_fitness):</span>
<span id="cb18-12"><a href=""></a>    <span class="co">"""</span></span>
<span id="cb18-13"><a href=""></a><span class="co">    Increase crossover when population converging</span></span>
<span id="cb18-14"><a href=""></a><span class="co">    """</span></span>
<span id="cb18-15"><a href=""></a>    fitness_ratio <span class="op">=</span> avg_fitness <span class="op">/</span> max_fitness</span>
<span id="cb18-16"><a href=""></a>    <span class="cf">return</span> <span class="fl">0.5</span> <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> fitness_ratio  <span class="co"># Range: 0.5 - 1.0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Mutation and crossover rates control how much variation is introduced in each generation.</p>
<p>Mutation guidelines: - Binary encoding: Often 1/L where L is chromosome length - Real-valued: Often 5-20% with smaller magnitude changes - Permutation problems: Often 1-5% swap mutations</p>
<p>Crossover considerations: - Rate determines % of population that undergoes crossover - 60-90% is common, with 70-80% being typical - Lower rates preserve more solutions intact - Higher rates create more new combinations</p>
<p>Adaptive rates can improve performance: - Decrease mutation rate as algorithm converges - Increase mutation when population diversity is low - Adjust crossover based on fitness convergence</p>
<p>For economic problems: - When solution precision matters (e.g., exact portfolio weights), consider lower mutation rates later in the run - For exploring diverse economic strategies, maintain higher rates longer</p>
<p>Ask students: “How would you adjust mutation and crossover rates for a rapidly changing economic environment vs.&nbsp;a stable one?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="convergence-criteria-when-is-good-enough" class="slide level2">
<h2>Convergence Criteria: When Is “Good Enough”?</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Common criteria</strong>:</p>
<ul>
<li>Fitness threshold achieved</li>
<li>No improvement for N generations</li>
<li>Population diversity below threshold</li>
<li>Fixed computational budget</li>
<li>Combination of criteria</li>
</ul>
<p><strong>Economic considerations</strong>:</p>
<ul>
<li>Solution quality requirements</li>
<li>Time constraints</li>
<li>Computational resources</li>
<li>Robustness needs</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href=""></a><span class="co"># Track convergence indicators</span></span>
<span id="cb19-2"><a href=""></a><span class="kw">def</span> check_convergence(history, current_gen):</span>
<span id="cb19-3"><a href=""></a>    <span class="co"># Has best fitness improved recently?</span></span>
<span id="cb19-4"><a href=""></a>    stagnant_gens <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb19-5"><a href=""></a>    <span class="cf">if</span> current_gen <span class="op">&gt;</span> <span class="dv">0</span> <span class="kw">and</span> history[current_gen][<span class="st">'best_fitness'</span>] <span class="op">&lt;=</span> history[current_gen<span class="op">-</span><span class="dv">1</span>][<span class="st">'best_fitness'</span>]:</span>
<span id="cb19-6"><a href=""></a>        stagnant_gens <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb19-7"><a href=""></a>    <span class="cf">else</span>:</span>
<span id="cb19-8"><a href=""></a>        stagnant_gens <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb19-9"><a href=""></a>    </span>
<span id="cb19-10"><a href=""></a>    <span class="co"># Check if convergence criteria met</span></span>
<span id="cb19-11"><a href=""></a>    <span class="cf">if</span> stagnant_gens <span class="op">&gt;=</span> STAGNATION_THRESHOLD:</span>
<span id="cb19-12"><a href=""></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb19-13"><a href=""></a>    <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb19-14"><a href=""></a></span>
<span id="cb19-15"><a href=""></a><span class="co"># Example usage in GA loop</span></span>
<span id="cb19-16"><a href=""></a><span class="cf">for</span> generation <span class="kw">in</span> <span class="bu">range</span>(MAX_GENERATIONS):</span>
<span id="cb19-17"><a href=""></a>    <span class="co"># Evaluate population</span></span>
<span id="cb19-18"><a href=""></a>    fitnesses <span class="op">=</span> [calculate_fitness(chromosome) <span class="cf">for</span> chromosome <span class="kw">in</span> population]</span>
<span id="cb19-19"><a href=""></a>    </span>
<span id="cb19-20"><a href=""></a>    <span class="co"># Track best solution</span></span>
<span id="cb19-21"><a href=""></a>    best_idx <span class="op">=</span> fitnesses.index(<span class="bu">max</span>(fitnesses))</span>
<span id="cb19-22"><a href=""></a>    best_fitness <span class="op">=</span> fitnesses[best_idx]</span>
<span id="cb19-23"><a href=""></a>    best_x <span class="op">=</span> binary_to_real(population[best_idx], MIN_X, MAX_X)</span>
<span id="cb19-24"><a href=""></a>    </span>
<span id="cb19-25"><a href=""></a>    <span class="co"># Store history</span></span>
<span id="cb19-26"><a href=""></a>    history.append({<span class="st">'generation'</span>: generation, <span class="st">'best_fitness'</span>: best_fitness})</span>
<span id="cb19-27"><a href=""></a>    </span>
<span id="cb19-28"><a href=""></a>    <span class="co"># Check for convergence</span></span>
<span id="cb19-29"><a href=""></a>    <span class="cf">if</span> check_convergence(history, generation):</span>
<span id="cb19-30"><a href=""></a>        <span class="bu">print</span>(<span class="ss">f"Converged at generation </span><span class="sc">{</span>generation<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb19-31"><a href=""></a>        <span class="cf">break</span></span>
<span id="cb19-32"><a href=""></a>    </span>
<span id="cb19-33"><a href=""></a>    <span class="co"># Create next generation</span></span>
<span id="cb19-34"><a href=""></a>    population <span class="op">=</span> next_generation(population)</span>
<span id="cb19-35"><a href=""></a></span>
<span id="cb19-36"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Best solution: x = </span><span class="sc">{</span>best_x<span class="sc">:.6f}</span><span class="ss">, f(x) = </span><span class="sc">{</span>best_fitness<span class="sc">:.6f}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Convergence criteria are crucial for determining when to stop the GA process efficiently.</p>
<p>Key considerations: 1. Balance between computational cost and solution quality 2. Avoiding premature convergence while ensuring timely results 3. Using multiple criteria can provide robustness</p>
<p>For economic applications, consider: - The cost of computation vs.&nbsp;the value of improved solutions - The need for timely decisions in dynamic markets - The importance of robustness in policy recommendations</p>
<p>Ask students: “What factors would influence your choice of convergence criteria in a real-world economic scenario?”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="application-the-knapsack-problem" class="title-slide slide level1 center">
<h1>Application: The Knapsack Problem</h1>

</section>
<section id="solving-the-knapsack-problem-with-gas" class="slide level2">
<h2>Solving the Knapsack Problem with GAs</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Problem setup</strong>:</p>
<ul>
<li>Maximize total value of items in knapsack</li>
<li>Subject to weight constraint</li>
</ul>
<p><strong>GA approach</strong>:</p>
<ol type="1">
<li>Binary encoding of item inclusion</li>
<li>Fitness = total value (penalize overweight solutions)</li>
<li>Use selection, crossover, mutation to evolve solutions</li>
</ol>
</div><div class="column" style="width:50%;">
<p><img src="genetic_algorithms_files/knapsack.png" alt="Knapsack Problem Illustration" width="100%"></p>
</div></div>
</section>
<section id="knapsack-ga-code-example" class="slide level2">
<h2>Knapsack GA Code Example</h2>
<div class="sourceCode" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href=""></a><span class="co"># Example knapsack items</span></span>
<span id="cb20-2"><a href=""></a>items <span class="op">=</span> [</span>
<span id="cb20-3"><a href=""></a>    Item(<span class="st">'Item 1'</span>, <span class="dv">2</span>, <span class="dv">100</span>),</span>
<span id="cb20-4"><a href=""></a>    Item(<span class="st">'Item 2'</span>, <span class="dv">3</span>, <span class="dv">120</span>),</span>
<span id="cb20-5"><a href=""></a>    Item(<span class="st">'Item 3'</span>, <span class="dv">4</span>, <span class="dv">150</span>),</span>
<span id="cb20-6"><a href=""></a>    Item(<span class="st">'Item 4'</span>, <span class="dv">5</span>, <span class="dv">180</span>),</span>
<span id="cb20-7"><a href=""></a>    Item(<span class="st">'Item 5'</span>, <span class="dv">6</span>, <span class="dv">200</span>),</span>
<span id="cb20-8"><a href=""></a>    Item(<span class="st">'Item 6'</span>, <span class="dv">7</span>, <span class="dv">210</span>),</span>
<span id="cb20-9"><a href=""></a>    Item(<span class="st">'Item 7'</span>, <span class="dv">8</span>, <span class="dv">220</span>),</span>
<span id="cb20-10"><a href=""></a>    Item(<span class="st">'Item 8'</span>, <span class="dv">50</span>, <span class="dv">800</span>),</span>
<span id="cb20-11"><a href=""></a>]</span>
<span id="cb20-12"><a href=""></a></span>
<span id="cb20-13"><a href=""></a><span class="co"># Run GA to solve knapsack</span></span>
<span id="cb20-14"><a href=""></a>best_solution, best_value <span class="op">=</span> run_knapsack_ga(items, max_weight<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb20-15"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Best solution: </span><span class="sc">{</span>best_solution<span class="sc">}</span><span class="ss">, Total value: </span><span class="sc">{</span>best_value<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>The knapsack problem is a classic combinatorial optimization problem, ideal for demonstrating GAs.</p>
<p>Key points: 1. Binary encoding naturally fits the problem structure 2. Fitness function must balance value and weight constraints 3. GAs can efficiently explore large solution spaces</p>
<p>Discuss with students: - How would you adjust the GA parameters for different item sets? - What real-world problems resemble the knapsack problem?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="application-optimization-in-economics" class="title-slide slide level1 center">
<h1>Application: Optimization in Economics</h1>

</section>
<section id="portfolio-optimization-with-gas" class="slide level2">
<h2>Portfolio Optimization with GAs</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Problem setup</strong>:</p>
<ul>
<li>Maximize return, minimize risk</li>
<li>Subject to budget and diversification constraints</li>
</ul>
<p><strong>GA approach</strong>:</p>
<ol type="1">
<li>Real-valued encoding of asset weights</li>
<li>Fitness = risk-adjusted return</li>
<li>Use selection, crossover, mutation to optimize portfolio</li>
</ol>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href=""></a><span class="co"># Example portfolio optimization</span></span>
<span id="cb21-2"><a href=""></a>assets <span class="op">=</span> [<span class="st">'Stock A'</span>, <span class="st">'Stock B'</span>, <span class="st">'Stock C'</span>]</span>
<span id="cb21-3"><a href=""></a>returns <span class="op">=</span> [<span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.15</span>]</span>
<span id="cb21-4"><a href=""></a>risks <span class="op">=</span> [<span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.07</span>]</span>
<span id="cb21-5"><a href=""></a></span>
<span id="cb21-6"><a href=""></a><span class="co"># Run GA to optimize portfolio</span></span>
<span id="cb21-7"><a href=""></a>best_portfolio, best_return <span class="op">=</span> run_portfolio_ga(assets, returns, risks)</span>
<span id="cb21-8"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Best portfolio: </span><span class="sc">{</span>best_portfolio<span class="sc">}</span><span class="ss">, Expected return: </span><span class="sc">{</span>best_return<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Portfolio optimization is a key application of GAs in finance.</p>
<p>Key points: 1. Real-valued encoding allows precise control of asset weights 2. Fitness function must balance return and risk 3. GAs can handle complex constraints and multiple objectives</p>
<p>Discuss with students: - How would you incorporate additional constraints (e.g., sector limits)? - What are the advantages of using GAs over traditional methods?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="advanced-variants" class="title-slide slide level1 center">
<h1>Advanced Variants</h1>

</section>
<section id="multi-population-gas-and-parallelization" class="slide level2">
<h2>Multi-population GAs and Parallelization</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Concepts</strong>:</p>
<ul>
<li>Multiple subpopulations (islands)</li>
<li>Periodic migration of individuals</li>
<li>Enhances diversity, prevents premature convergence</li>
</ul>
<p><strong>Benefits</strong>:</p>
<ul>
<li>Better exploration of solution space</li>
<li>Scalability with parallel computing</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href=""></a><span class="co"># Example multi-population GA setup</span></span>
<span id="cb22-2"><a href=""></a>num_islands <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb22-3"><a href=""></a>migration_interval <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb22-4"><a href=""></a></span>
<span id="cb22-5"><a href=""></a><span class="co"># Run multi-population GA</span></span>
<span id="cb22-6"><a href=""></a>best_solutions <span class="op">=</span> run_multi_population_ga(num_islands, migration_interval)</span>
<span id="cb22-7"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Best solutions from islands: </span><span class="sc">{</span>best_solutions<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Multi-population GAs (island models) are powerful for maintaining diversity and exploring large solution spaces.</p>
<p>Key points: 1. Subpopulations evolve independently, enhancing exploration 2. Migration allows sharing of good solutions 3. Suitable for parallel and distributed computing environments</p>
<p>Discuss with students: - How does migration frequency affect performance? - What types of economic problems might benefit from this approach?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="pitfalls-and-best-practices" class="title-slide slide level1 center">
<h1>Pitfalls and Best Practices</h1>

</section>
<section id="avoiding-common-ga-pitfalls" class="slide level2">
<h2>Avoiding Common GA Pitfalls</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><strong>Common issues</strong>:</p>
<ul>
<li>Premature convergence</li>
<li>Loss of diversity</li>
<li>Overfitting to training data</li>
</ul>
<p><strong>Best practices</strong>:</p>
<ul>
<li>Maintain diversity (mutation, crossover)</li>
<li>Use adaptive parameters</li>
<li>Validate with unseen data</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href=""></a><span class="co"># Example strategies to maintain diversity</span></span>
<span id="cb23-2"><a href=""></a>mutation_rate <span class="op">=</span> adaptive_mutation_rate(generation, MAX_GENERATIONS)</span>
<span id="cb23-3"><a href=""></a>crossover_rate <span class="op">=</span> adaptive_crossover_rate(avg_fitness, max_fitness)</span>
<span id="cb23-4"><a href=""></a></span>
<span id="cb23-5"><a href=""></a><span class="co"># Validate GA solutions</span></span>
<span id="cb23-6"><a href=""></a>validate_solutions(best_solutions, validation_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<aside class="notes">
<p>Avoiding common pitfalls ensures robust GA performance.</p>
<p>Key strategies: 1. Use adaptive mutation and crossover rates to maintain diversity 2. Validate solutions on unseen data to prevent overfitting 3. Monitor convergence and adjust parameters as needed</p>
<p>Discuss with students: - What signs indicate premature convergence? - How can you ensure your GA solutions generalize well?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="discussion-and-exploration" class="title-slide slide level1 center">
<h1>Discussion and Exploration</h1>

</section>
<section id="open-questions-and-future-directions" class="slide level2">
<h2>Open Questions and Future Directions</h2>
<ul>
<li>How can GAs be combined with other optimization techniques?</li>
<li>What are the limitations of GAs in economic modeling?</li>
<li>How can GAs be adapted for real-time decision-making?</li>
</ul>
<p><strong>Student Challenge</strong>: Modify a GA parameter and observe the impact on convergence and solution quality.</p>
<aside class="notes">
<p>Encourage students to think critically about the role of GAs in economic modeling.</p>
<p>Key discussion points: 1. Hybrid approaches (e.g., combining GAs with local search) 2. Limitations in terms of scalability and interpretability 3. Potential for real-time applications in dynamic markets</p>
<p>Challenge students to experiment with GA parameters and share their findings.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>

</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="genetic_algorithms_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="genetic_algorithms_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="genetic_algorithms_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="genetic_algorithms_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="genetic_algorithms_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="genetic_algorithms_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="genetic_algorithms_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="genetic_algorithms_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="genetic_algorithms_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="genetic_algorithms_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>